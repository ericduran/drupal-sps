<?php

class SPSManagerUnitTest extends SPSBaseUnitTest {

  static function getInfo() {
    return array(
      'name' => 'SPS Manager Unit Tests',
      'description' => 'SPS Manager Unit Tests.',
      'group' => 'SPS',
    );
  }

  public function testClassAutoLoading() {
    $this->assertTrue(class_exists('Drupal\\sps\\Manager'), "Manager Class exists", 'SPS');
    $this->assertTrue(class_exists('Drupal\\sps\\SiteState\\SiteState'), "Site State Class exists", 'SPS');
    $this->assertTrue(interface_exists('Drupal\\sps\\PreviewCondition\\PreviewConditionInterface'), "Preview Condition Interface exists", 'SPS');
    $this->assertTrue(class_exists('Drupal\\sps\\PreviewCondition\\PreviewConditionIterator'), "Preview Iterator Collection Class exists", 'SPS');
    $this->assertTrue(interface_exists('Drupal\\sps\\PreviewSetter\\PreviewSetterInterface'), "Preview Setter Interface exists", 'SPS');
    $this->assertTrue(class_exists('Drupal\\sps\\PreviewSetter\\PreviewSetterIterator'), "Preview Setter Iterator Class exists", 'SPS');
  }

  public function testClassLoading() {
    /*
    $site_state = sps_get_manager()->getSiteState();
    $conditions = sps_get_manager()->getAllConditions();
    $setters = sps_get_manager()->getAllSetters();
    $setter = sps_get_manager()->getSetter();

    $this->assertTrue($this->checkInterface('SPS\\PreviewCondition\\PreviewConditionInterface', $conditions),
      "Site Manager loaded the correct Preview Condition Interface", "SPS");

    $this->assertTrue($this->checkInterface('SPS\\PreviewSetter\\PreviewSetterInterface', $setter),
      "Site Manager Loaded the correct Preview Setter Interface", 'SPS');

    $this->assertTrue($site_state instanceof SPS\SiteState\SiteState, "Site Manager Loaded the correct Site State Class");
    $this->assertTrue($conditions instanceof SPS\PreviewCondition\PreviewConditionIterator, "Site Manager Loaded the correct Preview Iterator Class");
    $this->assertTrue($setters instanceof SPS\PreviewSetter\PreviewSetterIterator, "Site Manager Loaded the correct Setter Iterator Class");
    */
  }
}
